<!DOCTYPE html>
<html lang="" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<title></title>
<meta charset="utf-8">
</head>
<body>

	<th:block th:fragment="header">
		<header class="header-part">
			<div class="container">
				<div class="header-content">
					<div class="header-media-group">
						<button class="header-user">
							<img src="/images/user.png" alt="user" />
						</button>
						<a th:href="@{/}"> <img src="/images/logo/weblogo.png"
							alt="logo" />
						</a>
						<button class="header-src">
							<i class="fas fa-search"></i>
						</button>
					</div>

					<a th:href="@{/}" class="header-logo"> <img
						src="/images/logo/weblogo.png" alt="logo" />
					</a>

					<form th:action="@{/searchProduct}" class="header-form">
						<input type="text" name="keyword" th:value="${keyword}"
							placeholder="Tìm kiếm..." autocomplete="off" />
						<button>
							<i class="fas fa-search"></i>
						</button>
					</form>

					<div class="header-widget-group">
						<button class="header-widget header-cart" title="Giỏ hàng">
							<i class="fas fa-shopping-basket" style="color: #cf558a"></i> <sup
								th:text="${totalCartItems}" id="totalCartItems"
								style="background-color: #cf558a">0</sup>
						</button>
						<th:block th:if="${#request.remoteUser}">
							<a th:href="@{/profile}" class="header-widget"
								title="Trang cá nhân"> <i class="fas fa-user"></i>
							</a>
						</th:block>
					</div>
				</div>
			</div>
		</header>
		<nav class="navbar-part">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<div class="navbar-content">
							<ul class="navbar-list">
								<li class="navbar-item dropdown"><a href="/">Trang chủ</a>
								</li>
								<li class="navbar-item dropdown"><a th:href="@{/products}"
									href="javascript:void(0);">Sản phẩm</a></li>
								<li class="navbar-item dropdown"><a th:href="@{/contact}"
									href="javascript:void(0);">Liên hệ</a></li>
								<li class="navbar-item dropdown"><a
									class="navbar-link dropdown-arrow" href="javascript:void(0);">Tài
										khoản</a>
									<ul class="dropdown-position-list">
										<th:block th:unless="${#request.remoteUser}">
											<li><a th:href="@{/login}">Đăng nhập</a></li>
											<li><a th:href="@{/register}">Đăng ký</a></li>
											<li><a th:href="@{/forgotPassword}">Quên mật khẩu</a></li>
										</th:block>
										<th:block th:if="${#request.remoteUser}">
											<li><a th:href="@{/profile}">Thông tin tài khoản</a></li>
											<li><a th:href="@{/logout}">Đăng xuất</a></li>
										</th:block>

									</ul></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</nav>

		<!-- slide giỏ hàng -->
		<aside class="cart-sidebar">
			<div class="cart-header">
				<div class="cart-total">
					<i class="fas fa-shopping-basket" style="color: #cf558a"></i><span
						style="color: #cf558a">Tổng số lượng giỏ hàng
						([[${totalCartItems}]])</span>
				</div>
				<button class="cart-close">
					<i class="icofont-close"></i>
				</button>

			</div>

			<div th:unless="${totalCartItems!=0}" class="text-center">
				<h4 style="color: #cf558a" class="mt-5">Hiện tại bạn chưa có
					sản phẩm nào trong giỏ hàng!</h4>
				<h5 style="color: #cf558a">Hãy mua sắm đi nào!</h5>
				<a th:href="@{/products}" style="text-decoration: underline;">Click
					tại đây!</a>
			</div>

			<th:block th:if="${totalCartItems!=0}">
				<ul class="cart-list">
					<li class="cart-item" th:each="item : ${cartItems}">
						<div class="cart-media">
							<a th:href="@{/productDetail(id=${item.product.productId})}">
								<img
								th:src="@{'/loadImage?imageName='+${item.product.productImage}}"
								alt="product" />
							</a>
						</div>
						<div class="cart-info-group">
							<div class="cart-info">
								<h6>
									<label>Tên sản phẩm :</label> <a
										th:href="@{/productDetail(id=${item.product.productId})}"
										style="color: #cf558a">[[${item.product.productName}]]</a>
								</h6>
								<label>Đơn giá :</label>
								<p>[[${#numbers.formatDecimal(item.product.price -
									(item.product.price * item.product.discount/100), 1, 'DEFAULT',
									0, 'DEFAULT')}+' đ']]</p>
							</div>
							<div class="cart-action-group">
								<div class="product-action">
									<label>Số lượng :</label> <input class="action-input"
										style="color: #cf558a" title="Quantity Number" type="text"
										name="quantity" th:value="${item.quantity}" />
								</div>
								<h6 style="color: #cf558a">[[${#numbers.formatDecimal((item.product.price
									- (item.product.price * item.product.discount/100)) *
									item.quantity, 1, 'DEFAULT', 0, 'DEFAULT')}+ ' đ']]</h6>
							</div>
						</div>
					</li>
				</ul>
				<div class="cart-footer">
					<a class="cart-checkout-btn" th:href="@{/checkout}"
						style="background-color: #cf558a"><span class="checkout-label">Thanh
							Toán</span> </a>
				</div>
			</th:block>
		</aside>

	</th:block>
</body>
</html>